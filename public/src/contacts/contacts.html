<div style="height:100%" ng-show="contactListCtrl.isContactListAvailable()" layout="column" ng-controller="ContactListController as contactListCtrl">
    <nav-bar></nav-bar>
    <div flex layout="row">
        <left-sidebar></left-sidebar>


          <script type="text/ng-template" id="contactProfile">
            <md-dialog flex="40" aria-label="Contact Profile" ng-controller="ContactListController as contactListCtrl">
              <md-dialog-content style="overflow-x: hidden">
                <md-toolbar>
                 <div class="md-toolbar-tools">
                     <!-- <h2 style = "color: white;" class="pull-left col-xs-6">Call Details</h2> -->
                     <div style="margin:auto">

                         <md-button class="md-icon-button fa fa-phone" ng-controller="DialerController as dialer"  ng-click="dialer.redial(contactListCtrl.selectedContact.phone); contactListCtrl.closeProfileContactDialog()"/>
                         <md-button style="font-size:20px;" class="md-icon-button" ng-controller="CreateChatController as createChatCtrl" ng-click="createChatCtrl.createNewChat([contactListCtrl.selectedContact])">
                             <img style= "height: 20px; background-color: transparent;" ng-src= "images/add_chat.png">
                         </md-button>
                         <md-button  class="md-icon-button" ng-controller="AddCallToCRMController as crmCtrl" ng-click="crmCtrl.addCallToCRMButtonClicked(call, $event)" ng-show="crmCtrl.crmService.crmManager.crmList.length > 0 && crmCtrl.crmService.crmManager.crmList[0].validated">
                             <img style= "height: 25px; background-color: transparent;" ng-src= "images/ic_crm_gray_24dp.png">
                         </md-button>
                         <!-- <md-button class="md-icon-button fa fa-trash" ng-click="RecentCallsCtrl.showDeleteConfirm($event)">
                         </md-button> -->
                     </div>
                 </div>
             </md-toolbar>

                    <div style="padding: 2%; margin: auto;" class="row">
                        <div style="background:rgba(0,0,0,0.60);">
                            <div class="row">
                                <md-card class="wrapper" style="margin-left: 3.5%; width: 93%; height: 350px; background-size: 100% 100%; background-image:url({{contactListCtrl.selectedContact.picture | contactListAvatarFilter}});" >
                                </md-card>
                            </div>
                            <div style="padding-left: 3;" class="row">
                                <md-input-container class="md-icon-float md-block">
                                    <label style = "color: white;">{{contactListCtrl.selectedContact.firstName}} {{contactListCtrl.selectedContact.lastName}}</label>
                                    <div style = "margin-left: 70%;">
                                    <p  ng-if= "contactListCtrl.selectedContact.availability == 0" style="color: white;" >Online</p>
                                    <p  ng-if= "contactListCtrl.selectedContact.availability == 1" style="color: white;" >Away</p>
                                    <p  ng-if= "contactListCtrl.selectedContact.availability == 2" style="color: white;" >Busy</p>
                                    <p  ng-if= "contactListCtrl.selectedContact.availability == 3" style="color: white;" >On a Call</p>
                                    <p  ng-if= "contactListCtrl.selectedContact.availability == 4" style="color: white;" >Offline</p>
                                  </div>
                                    <md-icon style = "margin-left: 4%; color: white;" class="fa fa-user"></md-icon>
                                    <input style="margin-top: -5%;"id="name" type="text" disabled>
                                </md-input-container>

                                <md-input-container style="color: white; margin-top: -5%;" class="md-icon-float md-block">
                                    <md-icon style = "margin-left: 4%; color: white;" class="fa fa-phone"></md-icon>
                                    <label style= "color: white" id="phone-number">{{contactListCtrl.selectedContact.phone}} </label>
                                    <p style="margin-left: 70%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; color: white;"> {{contactListCtrl.selectedContact.status}}</p>
                                    <input style="margin-top: -5%;" id="name" type="text" disabled>
                                </md-input-container>

                                <md-input-container style="margin-top: -5%;" class="md-icon-float md-block">
                                    <label style = "color: white;">{{contactListCtrl.selectedContact.email}}</label>
                                    <md-icon style = "margin-left: 4%; color: white;" class="fa fa-envelope"></md-icon>
                                    <input id="email" type="text" disabled>
                                </md-input-container>
                                <!--
                                <md-input-container style="margin-top: -5%;" class="md-icon-float md-block">
                                    <md-icon class="fa fa-map-marker"></md-icon>
                                    <input id="location" type="text" placeholder="{{contactCtrl.contact.address}}" disabled>
                                </md-input-container>

                                <md-input-container style="margin-top: -5%;" class="md-icon-float md-block">
                                    <label>{{contactCtrl.contact.ringtone}}</label>
                                    <md-icon class="fa fa-volume-up"></md-icon>
                                    <input id="ringtone" type="text" disabled>
                                </md-input-container>

                                <md-input-container style="margin-top: -5%;" class="md-icon-float md-block">
                                    <md-icon class="fa fa-plus"></md-icon>
                                    <input id="notes" type="text" placeholder="{{contactCtrl.contact.notes}}" disabled>
                                </md-input-container>-->
                                <!-- <a href=""><p class="text-center" style="background:rgba(0,0,0,0.70); margin-top: -5%; font-size:18px; color:red;" class="col-lg-8 col-md-8 col-lg-push-2 col-md-push-2">
                                    Delete Contact
                                </p></a> -->
                            </div>
                        </div>
                        <md-button style="margin-left:85%;"ng-click="contactListCtrl.closeProfileContactDialog()"> Close </md-button>
                    </div>
              </md-dialog-content>
            </md-dialog>
          </script>

        <md-content flex="70" id="main-content" style="padding-bottom:10%;background-color: transparent; width:100%; overflow-x: hidden; overflow-y: hidden;">


            <div style="padding-top:3%" class="row">
                <div class="col-lg-2 col-md-2 col-lg-push-5 col-md-push-5">
                    <span style="display:table; margin:0 auto;" class="dialer-icons">
                        <a href="#/dialer" id="dialer-circle" style="width:50px; height:50px; margin-right:0px;"><i style="margin-top: 5%; color: #087be4; font-size: 30px;" class="fa fa-home"></i></a>
                    </span>
                </div>
            </div>
            <call-status-toolbar></call-status-toolbar>
            <div layout="row" >
                <div flex-offset="20" flex="60" style="overflow-x: hidden;">
                    <md-autocomplete style="padding-top:2%;" class = "scrollable-content" flex
                                     md-input-name="autocompleteField"
                                     md-input-minlength="0"
                                     md-no-cache="contactListCtrl.noCache"
                                     md-autofocus="true"
                                     md-autoselect="true"
                                     md-selected-item="contactListCtrl.selectedItem"
                                     md-search-text-change="contactListCtrl.searchTextChange(contactListCtrl.searchText)"
                                     md-selected-item-change="contactListCtrl.selectedItemChange(item)"
                                     md-search-text="contactListCtrl.searchText"
                                     md-items="item in contactListCtrl.querySearch(contactListCtrl.searchText)"
                                     md-item-text="item.name"
                                     md-floating-label="Search">
                        <md-item-template>
                            <span md-highlight-text="contactListCtrl.searchText" md-highlight-flags="^i">{{item.name}}</span>
                        </md-item-template>
                        <md-not-found>
                            No states matching "{{contactListCtrl.searchText}}" were found.
                        </md-not-found>
                    </md-autocomplete>
                    <!--<div style="margin-top:-5%" id="contacts-list" ng-cloak></div>-->
                  </div>
                </div>
                    <!--Contacts-->
                    <div class="scrollable-content" flex-offset="20" flex="60">
                    <div style="margin-top:-3%; margin-bottom:10%;" ng-repeat="letter in contactListCtrl.alphabet">
                        <div ng-if="contactListCtrl.setContacts(letter)">
                            <a style="color: white;" id=contact-initial> <h2>{{letter}}</h2> </a>
                            <md-content style="background:rgba(0,0,0,0.55); overflow-y:hidden" ng-repeat="contact in contactListCtrl.tempContacts track by $index" id="contacts-content">
                                <md-button ng-click="contactListCtrl.viewContact(contact, $event)" style="margin-left: 0%; width:100%;">
                                    <md-list style="background-color: transparent;" id="contacts-card" flex>
                                        <md-list-item class="row">
                                            <div style="margin-left:5%;" class="col-lg-2 col-md-2">
                                                <img style="width:50px; height:50px; border-radius:35px;" ng-src="{{contact.picture | contactListAvatarFilter}}"/>
                                            </div>
                                            <div style= "margin-left: 2%; margin-top: 2%;" class="col-lg-7 col-md-7" layout="column">
                                                <p style="color: white; font-size:20px; word-break: break-all" flex="50">{{contact.firstName}} {{contact.lastName}}</p>
                                                <p style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; color: white;" > {{contact.status}}</p>
                                            </div>
                                            <p  class="col-lg-3 col-md-3" ng-if= "contact.availability == 0" style="color: white;" >Online</p>
                                            <p  class="col-lg-3 col-md-3" ng-if= "contact.availability == 1" style="color: white;" >Away</p>
                                            <p  class="col-lg-3 col-md-3" ng-if= "contact.availability == 2" style="color: white;" >Busy</p>
                                            <p  class="col-lg-3 col-md-3" ng-if= "contact.availability == 3" style="color: white;" >On a Call</p>
                                            <p  class="col-lg-3 col-md-3" ng-if= "contact.availability == 4" style="color: white;" >Offline</p>
                                        </md-list-item>
                                    </md-list>
                                </md-button>
                            </md-content>
                        </div>
                    </div>
                  </div>

                    <!--finish test-->



        </md-content>

        <right-sidebar flex="30"></right-sidebar>

    </div>
</div>
