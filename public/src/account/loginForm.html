<!-- Forgot password dialog -->
<script type="text/ng-template" id="resetPasswordForm">
    <md-dialog flex="40" aria-label="Reset Password Form" ng-controller="AuthenticationController as authCtrl">
        <form ng-cloak>
            <md-toolbar>
                <div class="md-toolbar-tools">
                    <h2>Recover Password</h2>
                    <span flex></span>
                    <md-button class="md-icon-button" ng-click="authCtrl.closeResetPasswordDialog()">
                        &times;
                    </md-button>
                </div>
            </md-toolbar>

            <md-dialog-content>
              <h4 class="flex-80 flex-offset-10 password-change-success" style="margin-top:3%" ng-if="authCtrl.resetPasswordEmailSent && authCtrl.resetPasswordEmailError.length == 0">Mercurio password reset link has been sent</h4>
              <h4 class="flex-80 flex-offset-10 password-change-error" style="margin-top:3%" ng-if="authCtrl.resetPasswordEmailSent && authCtrl.resetPasswordEmailError.length > 0">There was an error sending your Mercurio password reset link.</h4>
                <md-input-container style="margin-top:10%" class="md-icon-float md-block flex-80 flex-offset-10" ng-hide="authCtrl.resetPasswordEmailSent && authCtrl.resetPasswordEmailError.length == 0">
                    <label>Email</label>
                    <md-icon class="fa fa-envelope"></md-icon>
                    <input id="email" type="text" ng-model="authCtrl.email" ng-change = "authCtrl.emailChanged()">
                </md-input-container>

            </md-dialog-content>

            <md-dialog-actions layout="row">

                <span flex></span>
                <md-button ng-click="authCtrl.closeResetPasswordDialog()">
                    Close
                </md-button>
                <md-button ng-click="authCtrl.sendResetPasswordEmail();" ng-hide="!authCtrl.resetPasswordButtonIsAvailable || authCtrl.resetPasswordEmailSent && authCtrl.resetPasswordEmailError.length == 0">
                    Reset Password
                </md-button>

            </md-dialog-actions>

        </form>
    </md-dialog>
</script>

<div style="overflow-x: hidden; background-image:url('images/city-wallpaper.jpg');height:100%" ng-controller="AuthenticationController as authCtrl" ng-cloak onload="checkUrl()">


    <form style="padding-top: 5%;" ng-submit="authCtrl.loginButtonClicked(authCtrl.email, authCtrl.password)">

        <md-card flex="45" flex-offset="30" style="margin: 10% auto; background:rgba(0,0,0,0.50);">
              <div layout="column" style="height: 5%; background:rgba(0,0,0,0); ">
                  <h2 class="text-center" style="font-size: 22px;color: white;"> Welcome to Mercury </h2>
              </div>

            <div layout="column">
              <h3 class="text-center" style="color:#FFFF00">{{authCtrl.authenticationService.feedback}}</h3>
            </div>

            <div layout= "row">
              <div flex="0" flex-offset="5"  style="padding-top: 5%;">
                <i class="fa fa-envelope" style="font-size:20px; color: white;"></i>
              </div>

                <div flex="75" flex-offset = "5" >
                    <md-input-container class="md-icon-float md-block" >
                        <!-- Use floating label instead of placeholder -->
                        <label style= "color: white">Email</label>
                          <input style= "color: white; border-color: yellow;" ng-model="authCtrl.email" name="email">
                    </md-input-container>
                  </div>
                </div>

            <div layout="row">
                <div flex="0" flex-offset="5"  style="padding-top: 5%;">
                    <i class="fa fa-unlock-alt" style="font-size:22px; color: white;"></i>
                </div>
                <div flex="75" flex-offset = "5">
                    <md-input-container class="md-icon-float md-block">
                        <!-- Use floating label instead of placeholder -->
                        <label style= "color: white">Password</label>
                        <input style= "color: white; border-color: yellow;" ng-model="authCtrl.password" type="password">
                    </md-input-container>
                </div>
            </div>
            <div layout="row">
                <!-- <div class="col-lg-11 col-md-11 col-lg-push-1 col-md-push-1">
                    <p style="color:red; font-weight:bold;" id="feedback" href=""></p>
                </div> -->
                <md-button class="md-raised md-primary" flex="50" flex-offset="25" style="width:100%; margin-bottom:4%;" ng-click="authCtrl.loginButtonClicked(authCtrl.email, authCtrl.password)">Login</md-button>
            </div>
            <div layout="row">
              <p style="font-size:16px; font-weight:bold;" flex="50"><a class="pull-right" style= "color: white; margin-right:10px;" href="https://selfcarepr.optivon.com/">Forgot Password?</a></p>
              <md-divider style="border-right:1px solid white; margin-bottom:10px;"></md-divider>
              <p style="font-size:16px; font-weight:bold;" flex="50"><a style= "color: white; margin-left:10px;" href="" ng-click="authCtrl.registerButtonClicked()">Register Account</a></p>
            </div>
        </md-card>
    </form>
</div>
